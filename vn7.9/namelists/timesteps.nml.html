<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>6.20. timesteps.nml &#8212; Joint UK Land Environment Simulator (JULES) v7.9 User Guide</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../_static/nature.css?v=279e0f84" />
    <link rel="stylesheet" type="text/css" href="../_static/jules-tweaks.css?v=c7813d96" />
    <script src="../_static/documentation_options.js?v=8ac13f20"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="6.21. model_grid.nml" href="model_grid.nml.html" />
    <link rel="prev" title="6.19. science_fixes.nml" href="science_fixes.nml.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../nml-modindex.html" title="Fortran Namelist Index"
             >namelists</a> |</li>
        <li class="right" >
          <a href="model_grid.nml.html" title="6.21. model_grid.nml"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="science_fixes.nml.html" title="6.19. science_fixes.nml"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Joint UK Land Environment Simulator (JULES) v7.9 User Guide</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="contents.html" accesskey="U"><span class="section-number">6. </span>The JULES namelist files</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><span class="section-number">6.20. </span><code class="docutils literal notranslate"><span class="pre">timesteps.nml</span></code></a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="timesteps-nml">
<h1><span class="section-number">6.20. </span><code class="docutils literal notranslate"><span class="pre">timesteps.nml</span></code><a class="headerlink" href="#timesteps-nml" title="Link to this heading">¶</a></h1>
<p>This file sets the start and end time of the run. It can also be used to specify an optional spin-up procedure. It contains two namelists called <a class="reference internal" href="#namelist-JULES_TIME"><code class="xref nml nml-lst docutils literal notranslate"><span class="pre">JULES_TIME</span></code></a> and <a class="reference internal" href="#namelist-JULES_SPINUP"><code class="xref nml nml-lst docutils literal notranslate"><span class="pre">JULES_SPINUP</span></code></a>.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>It is recommended that all times use not local time, but Coordinated Universal Time (UTC; known in some countries as Greenwich Mean Time GMT). The correct specification of the time is essential if the options causing the surface albedo to depend on the solar zenith angle are set. If the data are provided in local solar time, <a class="reference internal" href="#JULES_TIME::l_local_solar_time" title="JULES_TIME::l_local_solar_time"><code class="xref nml nml-mem docutils literal notranslate"><span class="pre">l_local_solar_time</span></code></a> should be set to TRUE to assume local solar time throughout the model.</p>
</div>
<section id="jules-time-namelist-members">
<h2><span class="section-number">6.20.1. </span><code class="docutils literal notranslate"><span class="pre">JULES_TIME</span></code> namelist members<a class="headerlink" href="#jules-time-namelist-members" title="Link to this heading">¶</a></h2>
<dl class="nml member" id="namelist-JULES_TIME">
<dt class="sig sig-object nml" id="JULES_TIME::l_360">
<span class="sig-prename descclassname"><span class="pre">JULES_TIME::</span></span><span class="sig-name descname"><span class="pre">l_360</span></span><a class="headerlink" href="#JULES_TIME::l_360" title="Link to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>logical</p>
</dd>
<dt class="field-even">Default<span class="colon">:</span></dt>
<dd class="field-even"><p>F</p>
</dd>
</dl>
<p>Switch indicating use of 360 day years.</p>
<dl class="simple">
<dt>TRUE</dt><dd><p>Each year consists of 360 days. This is sometimes used for idealised experiments.</p>
</dd>
<dt>FALSE</dt><dd><p>Each year consists of 365 or 366 days.</p>
</dd>
</dl>
</dd></dl>

<dl class="nml member">
<dt class="sig sig-object nml" id="JULES_TIME::l_leap">
<span class="sig-prename descclassname"><span class="pre">JULES_TIME::</span></span><span class="sig-name descname"><span class="pre">l_leap</span></span><a class="headerlink" href="#JULES_TIME::l_leap" title="Link to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>logical</p>
</dd>
<dt class="field-even">Default<span class="colon">:</span></dt>
<dd class="field-even"><p>T</p>
</dd>
</dl>
<p>Switch indicating whether the calendar has leap years. This flag is not used if l_360=T.</p>
<dl class="simple">
<dt>TRUE</dt><dd><p>Leap years are modelled i.e. each year consists of 365 or 366 days.</p>
</dd>
<dt>FALSE</dt><dd><p>Each year consists of 365 days.</p>
</dd>
</dl>
</dd></dl>

<dl class="nml member">
<dt class="sig sig-object nml" id="JULES_TIME::l_local_solar_time">
<span class="sig-prename descclassname"><span class="pre">JULES_TIME::</span></span><span class="sig-name descname"><span class="pre">l_local_solar_time</span></span><a class="headerlink" href="#JULES_TIME::l_local_solar_time" title="Link to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>logical</p>
</dd>
<dt class="field-even">Default<span class="colon">:</span></dt>
<dd class="field-even"><p>F</p>
</dd>
</dl>
<p>Switch indicating whether the time-stamping of the driving data and throughout the run is to be interpreted as local solar time, not UTC.</p>
<dl class="simple">
<dt>TRUE</dt><dd><p>The driving data and all times within the model are interpreted as being in local solar time, irrespective of any data attributes.</p>
</dd>
<dt>FALSE</dt><dd><p>The time convention applying within the model and the driving data is assumed to be UTC.</p>
</dd>
</dl>
</dd></dl>

<dl class="nml member">
<dt class="sig sig-object nml" id="JULES_TIME::timestep_len">
<span class="sig-prename descclassname"><span class="pre">JULES_TIME::</span></span><span class="sig-name descname"><span class="pre">timestep_len</span></span><a class="headerlink" href="#JULES_TIME::timestep_len" title="Link to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>integer</p>
</dd>
<dt class="field-even">Permitted<span class="colon">:</span></dt>
<dd class="field-even"><p>&gt;= 1</p>
</dd>
<dt class="field-odd">Default<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
<p>Model timestep length in seconds (n.b. ‘special periods’ -1 (monthly) and -2 (annual) may not be used).</p>
<p>Typically, 30 or 60 minutes is chosen, depending on the driving data available.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>If the timestep is too long, the model becomes numerically unstable.</p>
</div>
</dd></dl>

<dl class="nml member">
<dt class="sig sig-object nml" id="JULES_TIME::main_run_start">
<span class="sig-prename descclassname"><span class="pre">JULES_TIME::</span></span><span class="sig-name descname"><span class="pre">main_run_start</span></span><a class="headerlink" href="#JULES_TIME::main_run_start" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="nml member">
<dt class="sig sig-object nml" id="JULES_TIME::main_run_end">
<span class="sig-prename descclassname"><span class="pre">JULES_TIME::</span></span><span class="sig-name descname"><span class="pre">main_run_end</span></span><a class="headerlink" href="#JULES_TIME::main_run_end" title="Link to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>character</p>
</dd>
<dt class="field-even">Default<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
<p>The start and end times for the integration.</p>
<p>Each run of JULES consists of an optional spin-up period and the ‘main run’ that follows the spin-up. See below for more about the specification of the spin-up. These variables specify the start and end times for the ‘main run’.</p>
<p>The times must be given in the format:</p>
<div class="highlight-nml notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;yyyy-mm-dd hh:mm:ss&quot;</span>
</pre></div>
</div>
</dd></dl>

<dl class="nml member">
<dt class="sig sig-object nml" id="JULES_TIME::print_step">
<span class="sig-prename descclassname"><span class="pre">JULES_TIME::</span></span><span class="sig-name descname"><span class="pre">print_step</span></span><a class="headerlink" href="#JULES_TIME::print_step" title="Link to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>integer</p>
</dd>
<dt class="field-even">Permitted<span class="colon">:</span></dt>
<dd class="field-even"><p>&gt;= 1</p>
</dd>
<dt class="field-odd">Default<span class="colon">:</span></dt>
<dd class="field-odd"><p>1</p>
</dd>
</dl>
<p>Number of timesteps between printing timestep information to screen, i.e. if <a class="reference internal" href="#JULES_TIME::print_step" title="JULES_TIME::print_step"><code class="xref nml nml-mem docutils literal notranslate"><span class="pre">print_step</span></code></a> = 48, then the timestep start time will only be printed every 48 timesteps.</p>
</dd></dl>

</section>
<section id="jules-spinup-namelist-members">
<h2><span class="section-number">6.20.2. </span><code class="docutils literal notranslate"><span class="pre">JULES_SPINUP</span></code> namelist members<a class="headerlink" href="#jules-spinup-namelist-members" title="Link to this heading">¶</a></h2>
<dl class="nml member" id="namelist-JULES_SPINUP">
<dt class="sig sig-object nml" id="JULES_SPINUP::max_spinup_cycles">
<span class="sig-prename descclassname"><span class="pre">JULES_SPINUP::</span></span><span class="sig-name descname"><span class="pre">max_spinup_cycles</span></span><a class="headerlink" href="#JULES_SPINUP::max_spinup_cycles" title="Link to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>integer</p>
</dd>
<dt class="field-even">Permitted<span class="colon">:</span></dt>
<dd class="field-even"><p>&gt;= 0</p>
</dd>
<dt class="field-odd">Default<span class="colon">:</span></dt>
<dd class="field-odd"><p>0</p>
</dd>
</dl>
<p>The maximum number of times the spin-up period is to be repeated:</p>
<dl class="simple">
<dt>0</dt><dd><p>No spin-up.</p>
</dd>
<dt>&gt; 0</dt><dd><p>At least 1 and at most <a class="reference internal" href="#JULES_SPINUP::max_spinup_cycles" title="JULES_SPINUP::max_spinup_cycles"><code class="xref nml nml-mem docutils literal notranslate"><span class="pre">max_spinup_cycles</span></code></a> repetitions of spin-up are used.</p>
</dd>
</dl>
<p>After each repetition, the model tests whether the selected variables have changed by more than a specified amount over the last repetition (see <a class="reference internal" href="#JULES_SPINUP::tolerance" title="JULES_SPINUP::tolerance"><code class="xref nml nml-mem docutils literal notranslate"><span class="pre">tolerance</span></code></a> below).</p>
<p>If the change is less than this amount, the model is considered to have spun up and the model moves on to the main run.</p>
</dd></dl>

<dl class="nml member">
<dt class="sig sig-object nml" id="JULES_SPINUP::spinup_start">
<span class="sig-prename descclassname"><span class="pre">JULES_SPINUP::</span></span><span class="sig-name descname"><span class="pre">spinup_start</span></span><a class="headerlink" href="#JULES_SPINUP::spinup_start" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="nml member">
<dt class="sig sig-object nml" id="JULES_SPINUP::spinup_end">
<span class="sig-prename descclassname"><span class="pre">JULES_SPINUP::</span></span><span class="sig-name descname"><span class="pre">spinup_end</span></span><a class="headerlink" href="#JULES_SPINUP::spinup_end" title="Link to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>character</p>
</dd>
<dt class="field-even">Default<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
<p>Only used if <a class="reference internal" href="#JULES_SPINUP::max_spinup_cycles" title="JULES_SPINUP::max_spinup_cycles"><code class="xref nml nml-mem docutils literal notranslate"><span class="pre">max_spinup_cycles</span></code></a> &gt; 0.</p>
<p>The start and end times for each cycle of spin-up.</p>
<p>The times must be given in the format:</p>
<div class="highlight-nml notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;yyyy-mm-dd hh:mm:ss&quot;</span>
</pre></div>
</div>
</dd></dl>

<dl class="nml member">
<dt class="sig sig-object nml" id="JULES_SPINUP::terminate_on_spinup_fail">
<span class="sig-prename descclassname"><span class="pre">JULES_SPINUP::</span></span><span class="sig-name descname"><span class="pre">terminate_on_spinup_fail</span></span><a class="headerlink" href="#JULES_SPINUP::terminate_on_spinup_fail" title="Link to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>logical</p>
</dd>
<dt class="field-even">Default<span class="colon">:</span></dt>
<dd class="field-even"><p>F</p>
</dd>
</dl>
<p>Only used if <a class="reference internal" href="#JULES_SPINUP::max_spinup_cycles" title="JULES_SPINUP::max_spinup_cycles"><code class="xref nml nml-mem docutils literal notranslate"><span class="pre">max_spinup_cycles</span></code></a> &gt; 0.</p>
<p>Switch controlling behaviour if the model does not pass the spin-up test after <a class="reference internal" href="#JULES_SPINUP::max_spinup_cycles" title="JULES_SPINUP::max_spinup_cycles"><code class="xref nml nml-mem docutils literal notranslate"><span class="pre">max_spinup_cycles</span></code></a> of spin-up.</p>
<dl class="simple">
<dt>TRUE</dt><dd><p>End the run if model has not spun up.</p>
</dd>
<dt>FALSE</dt><dd><p>Continue the run regardless.</p>
</dd>
</dl>
</dd></dl>

<div class="admonition-variables-used-to-specify-spin-up-conditions admonition">
<p class="admonition-title">Variables used to specify spin-up conditions</p>
<dl class="nml member">
<dt class="sig sig-object nml" id="JULES_SPINUP::nvars">
<span class="sig-prename descclassname"><span class="pre">JULES_SPINUP::</span></span><span class="sig-name descname"><span class="pre">nvars</span></span><a class="headerlink" href="#JULES_SPINUP::nvars" title="Link to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>integer</p>
</dd>
<dt class="field-even">Permitted<span class="colon">:</span></dt>
<dd class="field-even"><p>&gt;= 0</p>
</dd>
<dt class="field-odd">Default<span class="colon">:</span></dt>
<dd class="field-odd"><p>0</p>
</dd>
</dl>
<p>Only used if <a class="reference internal" href="#JULES_SPINUP::max_spinup_cycles" title="JULES_SPINUP::max_spinup_cycles"><code class="xref nml nml-mem docutils literal notranslate"><span class="pre">max_spinup_cycles</span></code></a> &gt; 0.</p>
<p>The number of variables to use to assess if the model has spun up.</p>
</dd></dl>

<dl class="nml member">
<dt class="sig sig-object nml" id="JULES_SPINUP::var">
<span class="sig-prename descclassname"><span class="pre">JULES_SPINUP::</span></span><span class="sig-name descname"><span class="pre">var</span></span><a class="headerlink" href="#JULES_SPINUP::var" title="Link to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>character(nvars)</p>
</dd>
<dt class="field-even">Default<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
<p>Only used if <a class="reference internal" href="#JULES_SPINUP::nvars" title="JULES_SPINUP::nvars"><code class="xref nml nml-mem docutils literal notranslate"><span class="pre">nvars</span></code></a> &gt; 0.</p>
<p>List of variables to be used to determine if the model has spun up. Spin-up can be assessed in terms of soil temperature and soil moisture.</p>
<p>Possible values are:</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">c_soil</span></code></dt><dd><p>Soil carbon in each layer (summed over all pools) (kg m<sup>-2</sup>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">c_veg</span></code></dt><dd><p>Vegetation carbon (summed over all vegetation types) (kg m<sup>-2</sup>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">smcl</span></code></dt><dd><p>Moisture content of each soil layer (kg m<sup>-2</sup>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">t_soil</span></code></dt><dd><p>Temperature of each soil layer (K).</p>
</dd>
</dl>
</dd></dl>

<dl class="nml member">
<dt class="sig sig-object nml" id="JULES_SPINUP::use_percent">
<span class="sig-prename descclassname"><span class="pre">JULES_SPINUP::</span></span><span class="sig-name descname"><span class="pre">use_percent</span></span><a class="headerlink" href="#JULES_SPINUP::use_percent" title="Link to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>logical(nvars)</p>
</dd>
<dt class="field-even">Default<span class="colon">:</span></dt>
<dd class="field-even"><p>F</p>
</dd>
</dl>
<p>Only used if <a class="reference internal" href="#JULES_SPINUP::nvars" title="JULES_SPINUP::nvars"><code class="xref nml nml-mem docutils literal notranslate"><span class="pre">nvars</span></code></a> &gt; 0.</p>
<p>Indicates whether the tolerance for each variable is expressed as a percentage.</p>
<dl class="simple">
<dt>TRUE</dt><dd><p>Tolerance is a percentage.</p>
</dd>
<dt>FALSE</dt><dd><p>Tolerance is an absolute value.</p>
</dd>
</dl>
</dd></dl>

<dl class="nml member">
<dt class="sig sig-object nml" id="JULES_SPINUP::tolerance">
<span class="sig-prename descclassname"><span class="pre">JULES_SPINUP::</span></span><span class="sig-name descname"><span class="pre">tolerance</span></span><a class="headerlink" href="#JULES_SPINUP::tolerance" title="Link to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>real(nvars)</p>
</dd>
<dt class="field-even">Default<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
<p>Only used if <a class="reference internal" href="#JULES_SPINUP::nvars" title="JULES_SPINUP::nvars"><code class="xref nml nml-mem docutils literal notranslate"><span class="pre">nvars</span></code></a> &gt; 0.</p>
<p>Tolerance for spin-up test for each variable.</p>
<p>For each spin-up variable, this is the maximum allowed change over a spin-up cycle if the variable is to be considered as spun-up.</p>
</dd></dl>

</div>
</section>
<section id="note-on-time-conventions">
<h2><span class="section-number">6.20.3. </span>Note on time conventions<a class="headerlink" href="#note-on-time-conventions" title="Link to this heading">¶</a></h2>
<p>When specifying start times (e.g. <a class="reference internal" href="#JULES_TIME::main_run_start" title="JULES_TIME::main_run_start"><code class="xref nml nml-mem docutils literal notranslate"><span class="pre">main_run_start</span></code></a>, <a class="reference internal" href="#JULES_SPINUP::spinup_start" title="JULES_SPINUP::spinup_start"><code class="xref nml nml-mem docutils literal notranslate"><span class="pre">spinup_start</span></code></a>), the time is taken to be the <em>start of the first timestep</em>. When specifying end times (e.g. <a class="reference internal" href="#JULES_TIME::main_run_end" title="JULES_TIME::main_run_end"><code class="xref nml nml-mem docutils literal notranslate"><span class="pre">main_run_end</span></code></a>, <a class="reference internal" href="#JULES_SPINUP::spinup_end" title="JULES_SPINUP::spinup_end"><code class="xref nml nml-mem docutils literal notranslate"><span class="pre">spinup_end</span></code></a>), the time is taken to be the <em>end of the last timestep</em>. Also, the time “00:00:00” always refers to midnight at the <em>start</em> of the day concerned. Take the following setup:</p>
<div class="highlight-nml notranslate"><div class="highlight"><pre><span></span><span class="nn">&amp;JULES_TIME</span>
  <span class="nv">timestep_len</span>   <span class="o">=</span> <span class="mi">3600</span><span class="p">,</span>
  <span class="nv">main_run_start</span> <span class="o">=</span> <span class="s2">&quot;1997-01-01 00:00:00&quot;</span><span class="p">,</span>
  <span class="nv">main_run_end</span>   <span class="o">=</span> <span class="s2">&quot;1998-01-01 00:00:00&quot;</span><span class="p">,</span>

  <span class="c1"># ...</span>
<span class="nn">/</span>
</pre></div>
</div>
<p>With this setup, exactly one whole year of timesteps will be run. The first model timestep begins at 1997-01-01 00:00:00, the second at 1997-01-01 01:00:00 etc. The final model timestep begins at 1997-12-31 23:00:00 and ends at 1998-01-01 00:00:00. Note that even though only 1997 is simulated, JULES may nevertheless need to access data file(s) for subsequent timesteps (January 1998 in this example), depending on the interpolation flag settings in <a class="reference internal" href="../input/temporal-interpolation.html"><span class="doc">Temporal interpolation</span></a>.</p>
<p>For example, if your driving data set extends to the end of 1997 only, then you may need to either stop the simulation 1-2 data timesteps before the end of 1997 (by modifying <a class="reference internal" href="#JULES_TIME::main_run_end" title="JULES_TIME::main_run_end"><code class="xref nml nml-mem docutils literal notranslate"><span class="pre">main_run_end</span></code></a> and <a class="reference internal" href="#JULES_SPINUP::spinup_end" title="JULES_SPINUP::spinup_end"><code class="xref nml nml-mem docutils literal notranslate"><span class="pre">spinup_end</span></code></a>; n.b. if these data timesteps are at the end of the year/month then an annual/monthly average will not be calculated) or generate dummy driving data for the start of 1998 (which must be realistic because they will be used for interpolation during the last few model timesteps).</p>
<p>The maximum extent of your driving data should be specified by <a class="reference internal" href="drive.nml.html#JULES_DRIVE::data_start" title="JULES_DRIVE::data_start"><code class="xref nml nml-mem docutils literal notranslate"><span class="pre">data_start</span></code></a> and <a class="reference internal" href="drive.nml.html#JULES_DRIVE::data_end" title="JULES_DRIVE::data_end"><code class="xref nml nml-mem docutils literal notranslate"><span class="pre">data_end</span></code></a>. The periods of the main run (<a class="reference internal" href="#JULES_TIME::main_run_start" title="JULES_TIME::main_run_start"><code class="xref nml nml-mem docutils literal notranslate"><span class="pre">main_run_start</span></code></a> to <a class="reference internal" href="#JULES_TIME::main_run_end" title="JULES_TIME::main_run_end"><code class="xref nml nml-mem docutils literal notranslate"><span class="pre">main_run_end</span></code></a>) and spin-up (<a class="reference internal" href="#JULES_SPINUP::spinup_start" title="JULES_SPINUP::spinup_start"><code class="xref nml nml-mem docutils literal notranslate"><span class="pre">spinup_start</span></code></a> to <a class="reference internal" href="#JULES_SPINUP::spinup_end" title="JULES_SPINUP::spinup_end"><code class="xref nml nml-mem docutils literal notranslate"><span class="pre">spinup_end</span></code></a>) must be contained within <a class="reference internal" href="drive.nml.html#JULES_DRIVE::data_start" title="JULES_DRIVE::data_start"><code class="xref nml nml-mem docutils literal notranslate"><span class="pre">data_start</span></code></a> to <a class="reference internal" href="drive.nml.html#JULES_DRIVE::data_end" title="JULES_DRIVE::data_end"><code class="xref nml nml-mem docutils literal notranslate"><span class="pre">data_end</span></code></a>.</p>
<p>Note that all times are recommended to be in Coordinated Universal Time (UTC), not local time (see Warning at top of this page). Note also the limitations on timestep mentioned in <a class="reference internal" href="../input/temporal-interpolation.html"><span class="doc">Temporal interpolation</span></a> and on run length mentioned in <a class="reference internal" href="../code/known-limitations.html"><span class="doc">Known limitations of the code</span></a>.</p>
</section>
<section id="note-on-solar-zenith-angle">
<h2><span class="section-number">6.20.4. </span>Note on solar zenith angle<a class="headerlink" href="#note-on-solar-zenith-angle" title="Link to this heading">¶</a></h2>
<p>When the characteristics of the surface relevant to solar radiation are represented in a simple manner, the cosine of the solar zenith angle itself is not required and all that is needed is the downward shortwave flux provided by the forcing data. In such cases it is sufficient to set <a class="reference internal" href="jules_radiation.nml.html#JULES_RADIATION::l_cosz" title="JULES_RADIATION::l_cosz"><code class="xref nml nml-mem docutils literal notranslate"><span class="pre">l_cosz</span></code></a> = FALSE, which will set the cosine of the solar zenith angle to a default value of 1.0.</p>
<p>However, more elaborate treatments of the surface albedo and of solar radiative transfer in plant canopies do depend on the actual value of the cosine of the solar zenith angle, as well as the downward flux, so it is more realistic to set <a class="reference internal" href="jules_radiation.nml.html#JULES_RADIATION::l_cosz" title="JULES_RADIATION::l_cosz"><code class="xref nml nml-mem docutils literal notranslate"><span class="pre">l_cosz</span></code></a> = TRUE, and, indeed, the results obtained with <a class="reference internal" href="jules_radiation.nml.html#JULES_RADIATION::l_cosz" title="JULES_RADIATION::l_cosz"><code class="xref nml nml-mem docutils literal notranslate"><span class="pre">l_cosz</span></code></a> = FALSE may be significantly in error. To calculate the cosine of the zenith angle, the times of the forcing data must be specified accurately.  The consistent use of UTC is strongly recommended. Nevertheless, certain forcing data, widely used within the land-surface community, are specified in local solar time, even though the metadata in the file may refer to UTC. In such cases <a class="reference internal" href="#JULES_TIME::l_local_solar_time" title="JULES_TIME::l_local_solar_time"><code class="xref nml nml-mem docutils literal notranslate"><span class="pre">l_local_solar_time</span></code></a> should be set to TRUE when <a class="reference internal" href="jules_radiation.nml.html#JULES_RADIATION::l_cosz" title="JULES_RADIATION::l_cosz"><code class="xref nml nml-mem docutils literal notranslate"><span class="pre">l_cosz</span></code></a> = TRUE.</p>
</section>
<section id="examples">
<h2><span class="section-number">6.20.5. </span>Examples<a class="headerlink" href="#examples" title="Link to this heading">¶</a></h2>
<section id="a-run-without-spin-up">
<h3><span class="section-number">6.20.5.1. </span>A run without spin-up<a class="headerlink" href="#a-run-without-spin-up" title="Link to this heading">¶</a></h3>
<div class="highlight-nml notranslate"><div class="highlight"><pre><span></span><span class="nn">&amp;JULES_TIME</span>
  <span class="nv">timestep_len</span>   <span class="o">=</span> <span class="mi">3600</span><span class="p">,</span>
  <span class="nv">main_run_start</span> <span class="o">=</span> <span class="s2">&quot;1997-01-01 00:00:00&quot;</span><span class="p">,</span>
  <span class="nv">main_run_end</span>   <span class="o">=</span> <span class="s2">&quot;1999-01-01 01:00:00&quot;</span>
<span class="nn">/</span>

<span class="nn">&amp;JULES_SPINUP</span>
  <span class="nv">max_spinup_cycles</span> <span class="o">=</span> <span class="mi">0</span>
<span class="nn">/</span>
</pre></div>
</div>
<p>This specifies a run with a timestep length of one hour. The run will begin at midnight on 1st January 1997 and end at 01:00 UTC on 1st January 1999. <a class="reference internal" href="#JULES_SPINUP::max_spinup_cycles" title="JULES_SPINUP::max_spinup_cycles"><code class="xref nml nml-mem docutils literal notranslate"><span class="pre">max_spinup_cycles</span></code></a> = 0 means there is no spin-up.</p>
</section>
<section id="a-run-with-spin-up-over-a-period-that-immediately-precedes-the-main-run">
<h3><span class="section-number">6.20.5.2. </span>A run with spin-up over a period that immediately precedes the main run<a class="headerlink" href="#a-run-with-spin-up-over-a-period-that-immediately-precedes-the-main-run" title="Link to this heading">¶</a></h3>
<div class="highlight-nml notranslate"><div class="highlight"><pre><span></span><span class="nn">&amp;JULES_TIME</span>
  <span class="nv">timestep_len</span>   <span class="o">=</span> <span class="mi">3600</span><span class="p">,</span>
  <span class="nv">main_run_start</span> <span class="o">=</span> <span class="s2">&quot;1997-01-01 00:00:00&quot;</span><span class="p">,</span>
  <span class="nv">main_run_end</span>   <span class="o">=</span> <span class="s2">&quot;1999-01-01 01:00:00&quot;</span>
<span class="nn">/</span>

<span class="nn">&amp;JULES_SPINUP</span>
  <span class="nv">max_spinup_cycles</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span>
  <span class="nv">spinup_start</span>      <span class="o">=</span> <span class="s2">&quot;1996-01-01 00:00:00&quot;</span><span class="p">,</span>
  <span class="nv">spinup_end</span>        <span class="o">=</span> <span class="s2">&quot;1997-01-01 00:00:00&quot;</span>

  <span class="c1"># &lt;spinup variable specification&gt;</span>
<span class="nn">/</span>
</pre></div>
</div>
<p>This specifies a spin-up period from midnight on 1st January 1996 to midnight on 1st January 1997. This spin-up will be repeated up to 5 times, before the main run from midnight on 1st January 1997 until 01:00 UTC on 1st January 1999.</p>
</section>
<section id="a-run-with-spin-up-over-a-period-that-overlaps-the-main-run">
<h3><span class="section-number">6.20.5.3. </span>A run with spin-up over a period that overlaps the main run<a class="headerlink" href="#a-run-with-spin-up-over-a-period-that-overlaps-the-main-run" title="Link to this heading">¶</a></h3>
<div class="highlight-nml notranslate"><div class="highlight"><pre><span></span><span class="nn">&amp;JULES_TIME</span>
  <span class="nv">timestep_len</span>   <span class="o">=</span> <span class="mi">3600</span><span class="p">,</span>
  <span class="nv">main_run_start</span> <span class="o">=</span> <span class="s2">&quot;1997-01-01 00:00:00&quot;</span><span class="p">,</span>
  <span class="nv">main_run_end</span>   <span class="o">=</span> <span class="s2">&quot;1999-01-01 01:00:00&quot;</span>
<span class="nn">/</span>

<span class="nn">&amp;JULES_SPINUP</span>
  <span class="nv">max_spinup_cycles</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span>
  <span class="nv">spinup_start</span>      <span class="o">=</span> <span class="s2">&quot;1997-01-01 00:00:00&quot;</span><span class="p">,</span>
  <span class="nv">spinup_end</span>        <span class="o">=</span> <span class="s2">&quot;1998-01-01 00:00:00&quot;</span>

  <span class="c1"># &lt;spinup variable specification&gt;</span>
<span class="nn">/</span>
</pre></div>
</div>
<p>This specifies a spin-up period from midnight on 1st January 1997 to midnight on 1st January 1998. This spin-up will be repeated up to 5 times, before the main run from midnight on 1st January 1997 until 01:00 UTC on 1st January 1999.</p>
</section>
<section id="example-of-specifying-requirements-for-spin-up">
<h3><span class="section-number">6.20.5.4. </span>Example of specifying requirements for spin-up<a class="headerlink" href="#example-of-specifying-requirements-for-spin-up" title="Link to this heading">¶</a></h3>
<div class="highlight-nml notranslate"><div class="highlight"><pre><span></span><span class="nn">&amp;JULES_SPINUP</span>
  <span class="c1"># &lt;spinup time specification&gt;</span>

  <span class="nv">terminate_on_spinup_fail</span> <span class="o">=</span> <span class="ss">T</span><span class="p">,</span>

  <span class="nv">nvars</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
  <span class="nv">var</span>         <span class="o">=</span> <span class="s2">&quot;smcl&quot;</span>  <span class="s2">&quot;t_soil&quot;</span><span class="p">,</span>
  <span class="nv">use_percent</span> <span class="o">=</span>     <span class="ss">F</span>         <span class="ss">T</span> <span class="p">,</span>
  <span class="nv">tolerance</span>   <span class="o">=</span>   <span class="mf">1.0</span>       <span class="mf">0.1</span>
<span class="nn">/</span>
</pre></div>
</div>
<p>With this setup, <a class="reference internal" href="#JULES_SPINUP::terminate_on_spinup_fail" title="JULES_SPINUP::terminate_on_spinup_fail"><code class="xref nml nml-mem docutils literal notranslate"><span class="pre">terminate_on_spinup_fail</span></code></a> = TRUE means that if the spin-up has not ‘converged’ after <a class="reference internal" href="#JULES_SPINUP::max_spinup_cycles" title="JULES_SPINUP::max_spinup_cycles"><code class="xref nml nml-mem docutils literal notranslate"><span class="pre">max_spinup_cycles</span></code></a> cycles, the run will end. Convergence is measured using the moisture content and temperature of each soil layer. At every point and in every layer, soil moisture must change by less than 1 kg m<sup>-2</sup>, while soil temperature must change by less than 0.1%.</p>
</section>
</section>
<section id="notes-on-spin-up">
<h2><span class="section-number">6.20.6. </span>Notes on spin-up<a class="headerlink" href="#notes-on-spin-up" title="Link to this heading">¶</a></h2>
<p>Spin-up is assessed using the difference between instantaneous values at the end of consecutive cycles of spin-up. For example, if the spin-up period is from 2005-01-01 00:00:00 to 2006-01-01 00:00:00 then every time the model gets to the end of 2005 the spin-up variables are compared with their value at the end of the previous cycle. The model is considered spun-up when <em>all</em> the spin-up variables are spun-up at <em>all</em> points. A spin-up variable is considered spun-up if, at each point, the absolute value of the change (percentage change if <a class="reference internal" href="#JULES_SPINUP::use_percent" title="JULES_SPINUP::use_percent"><code class="xref nml nml-mem docutils literal notranslate"><span class="pre">use_percent</span></code></a> = TRUE) over the spin-up cycle is less than or equal to the given tolerance.</p>
<p>At present the analysis of whether the model has spun up or not is limited to aspects of the ‘physical’ state of the system, and does not explicitly consider carbon stores, making it less useful for runs with interactive vegetation (the equilibrium mode of TRIFFID is designed to spin-up TRIFFID) or prognostic soil carbon.</p>
<p>During the spin-up phase of a run, JULES provides the correct driving data (for example, meteorological data) as the model time ‘cycles’ round over the spin-up period. Consider the case of a spin-up from 2005-01-01 00:00:00 to 2006-01-01 00:00:00. At or near the end of 31st December 2005 during the spin-up, the driving data will start to adjust to the values for 1st January 2005. The calculated driving data may vary slightly between the start or end of the first cycle and similar times in later cycles, because of the need to match the data at the end of each cycle to that at the start of the next cycle. When the main run begins after a period of spin-up, the driving data is reset to the start of the main run - no effort is made to adjust the data for a smooth transition. Generally this does not cause a problem.</p>
<p>Depending upon the details of the input data and any temporal interpolation, the driving data may vary rapidly at the end of a cycle of spin-up, causing an extreme response from the model. In most cases the model will adjust, possibly with large heat fluxes over a few hours, but the user should be aware that unusual behaviour near the end/start of a spin-up cycle may be the result of this adjustment. Consider the case of a spin-up from 2005-01-01 00:00:00 to 2006-01-01 00:00:00. At or near the end of 31st December 2005 during the spin-up, the driving data will start to adjust to the values for 1st January 2005, which could be very different from conditions on 31st December 2005. The length of time over which the driving data adjust depends on the frequency of the data, and the choice of temporal interpolation. For example, with 3-hourly data that is interpolated onto a one hour timestep, the adjustment will take place over 3 hours. However, hourly data and an hourly timestep will force an instantaneous adjustment at the start of 1st January 2005.</p>
<p>Although <a class="reference internal" href="#JULES_SPINUP::max_spinup_cycles" title="JULES_SPINUP::max_spinup_cycles"><code class="xref nml nml-mem docutils literal notranslate"><span class="pre">max_spinup_cycles</span></code></a> specifies the maximum number of spin-up cycles, some of which might not be used if the model is considered to have spun up earlier, it is possible to specify the exact number of cycles that will be performed. This can be done by demanding an impossible level of convergence by setting <a class="reference internal" href="#JULES_SPINUP::tolerance" title="JULES_SPINUP::tolerance"><code class="xref nml nml-mem docutils literal notranslate"><span class="pre">tolerance</span></code></a> &lt; 0 (remember that <a class="reference internal" href="#JULES_SPINUP::tolerance" title="JULES_SPINUP::tolerance"><code class="xref nml nml-mem docutils literal notranslate"><span class="pre">tolerance</span></code></a> is compared with the absolute change over a cycle) and setting <a class="reference internal" href="#JULES_SPINUP::terminate_on_spinup_fail" title="JULES_SPINUP::terminate_on_spinup_fail"><code class="xref nml nml-mem docutils literal notranslate"><span class="pre">terminate_on_spinup_fail</span></code></a> = FALSE so that the integration continues when spin-up is judged to have failed after <a class="reference internal" href="#JULES_SPINUP::max_spinup_cycles" title="JULES_SPINUP::max_spinup_cycles"><code class="xref nml nml-mem docutils literal notranslate"><span class="pre">max_spinup_cycles</span></code></a> cycles.</p>
<p>Although it is expected that a spin-up phase will be followed by the main run in the same integration, it is possible to do the spin-up and main run in separate integrations. This can be done by demanding an impossible level of convergence by setting <a class="reference internal" href="#JULES_SPINUP::tolerance" title="JULES_SPINUP::tolerance"><code class="xref nml nml-mem docutils literal notranslate"><span class="pre">tolerance</span></code></a> &lt; 0 and setting <a class="reference internal" href="#JULES_SPINUP::terminate_on_spinup_fail" title="JULES_SPINUP::terminate_on_spinup_fail"><code class="xref nml nml-mem docutils literal notranslate"><span class="pre">terminate_on_spinup_fail</span></code></a> = TRUE so that the integration stops when spin-up is judged to have failed. The final state of the model, after <a class="reference internal" href="#JULES_SPINUP::max_spinup_cycles" title="JULES_SPINUP::max_spinup_cycles"><code class="xref nml nml-mem docutils literal notranslate"><span class="pre">max_spinup_cycles</span></code></a> cycles of spin-up, will be written to the final dump, and a subsequent simulation can be started from this dump.</p>
<p>A limitation of the current code is that it cannot cope with a spin-up cycle that is short in comparison to the period of any input data. For example, a spin-up cycle of 1 day cannot use 10-day vegetation data. The code will likely run but the evolution of the vegetation data will probably not be what the user intended! However, it is unlikely that a user would want to try such a run.</p>
<p>Occasionally, the model fails to diagnose a spun up state when in fact the integration has reached a quasi-steady state that is not detected by the procedure of assessing spin-up through comparison of instantaneous values at the end of consecutive cycles of spin-up. An example of this is ‘period-2’ behaviour, where the model state repeats itself over a period of 2 cycles. Such behaviour should be apparent in the model output during spin-up, and the user can opt to repeat the integration over a given number of spin-up cycles, and not to wait for a spun-up state to be diagnosed.</p>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/jules_logo_html.png" alt="Logo of Joint UK Land Environment Simulator (JULES)"/>
            </a></p><h3><a href="../index.html">Table Of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../release_notes/contents.html">1. Release notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview/intro.html">2. Overview of JULES</a></li>
<li class="toctree-l1"><a class="reference internal" href="../building-and-running/intro.html">3. Building and running JULES</a></li>
<li class="toctree-l1"><a class="reference internal" href="../input/overview.html">4. Input files for JULES</a></li>
<li class="toctree-l1"><a class="reference internal" href="../output.html">5. JULES output</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="contents.html">6. The JULES namelist files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples.html">7. JULES examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../code/contents.html">8. Aspects of the code</a></li>
<li class="toctree-l1"><a class="reference internal" href="../output-variables.html">9. JULES Output variables</a></li>
</ul>

  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="science_fixes.nml.html"
                          title="previous chapter"><span class="section-number">6.19. </span><code class="docutils literal notranslate"><span class="pre">science_fixes.nml</span></code></a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="model_grid.nml.html"
                          title="next chapter"><span class="section-number">6.21. </span><code class="docutils literal notranslate"><span class="pre">model_grid.nml</span></code></a></p>
  </div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../nml-modindex.html" title="Fortran Namelist Index"
             >namelists</a> |</li>
        <li class="right" >
          <a href="model_grid.nml.html" title="6.21. model_grid.nml"
             >next</a> |</li>
        <li class="right" >
          <a href="science_fixes.nml.html" title="6.19. science_fixes.nml"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Joint UK Land Environment Simulator (JULES) v7.9 User Guide</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="contents.html" ><span class="section-number">6. </span>The JULES namelist files</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><span class="section-number">6.20. </span><code class="docutils literal notranslate"><span class="pre">timesteps.nml</span></code></a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright 2025.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.2.0.
    </div>
  </body>
</html>